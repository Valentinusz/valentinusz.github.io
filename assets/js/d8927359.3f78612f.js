"use strict";(self.webpackChunkvalentinusz_github_io=self.webpackChunkvalentinusz_github_io||[]).push([[1108],{1863:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=n(5893),i=n(1151);const r={sidebar_position:7,title:"Saj\xe1t Writable"},s=void 0,l={id:"bigdata/hadoop/custom_writable",title:"Saj\xe1t Writable",description:"Lehet\u0151s\xe9g\xfcnk van saj\xe1t Writable oszt\xe1ly l\xe9trehoz\xe1s\xe1ra, ehhez a WritableComparable generikus interf\xe9szt kell",source:"@site/notes/bigdata/01_hadoop/07_custom_writable.mdx",sourceDirName:"bigdata/01_hadoop",slug:"/bigdata/hadoop/custom_writable",permalink:"/notes/bigdata/hadoop/custom_writable",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Boda B\xe1lint",lastUpdatedAt:1699042492,formattedLastUpdatedAt:"2023. nov. 3.",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Saj\xe1t Writable"},sidebar:"notesSidebar",previous:{title:"Konfigur\xe1ci\xf3",permalink:"/notes/bigdata/hadoop/configuration"},next:{title:"Spark - bevezet\xe9s",permalink:"/notes/bigdata/spark/"}},o={},d=[];function c(e){const t={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Lehet\u0151s\xe9g\xfcnk van saj\xe1t ",(0,a.jsx)(t.code,{children:"Writable"})," oszt\xe1ly l\xe9trehoz\xe1s\xe1ra, ehhez a ",(0,a.jsx)(t.code,{children:"WritableComparable"})," generikus interf\xe9szt kell\nmegval\xf3s\xedtanunk."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"public interface WritableComparable<T> extends Writable, Comparable<T> { }\n"})}),"\n",(0,a.jsx)(t.p,{children:"Ez az interf\xe9sz nem tartalmaz met\xf3dusokat de kiterjeszt k\xe9t m\xe1sik interf\xe9szt. Ezek m\u0171veleteit kell megval\xf3s\xedtanunk:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"public interface Writable {\n    void write(DataOutput var1) throws IOException;\n    void readFields(DataInput var1) throws IOException;\n}\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Ezen met\xf3dusok hat\xe1rozz\xe1k meg, hogy egy kell az adott adott ",(0,a.jsx)(t.code,{children:"Writable"})," oszt\xe1ly p\xe9ld\xe1nyait \xedrni \xe9s olvasni."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"public interface Comparable<T> {\n    public int compareTo(T o);\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:"Ez a met\xf3dus teszi majd lehet\u0151v\xe9, hogy az oszt\xe1ly p\xe9ld\xe1nyai \xf6sszehasonl\xedthat\xf3ak legyenek."}),"\n",(0,a.jsx)(t.p,{children:"A met\xf3dust \xfagy kell meg\xedrni, hogy egy eg\xe9sz sz\xe1mot adjon vissza, ami:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["-1: Ha ",(0,a.jsx)(t.code,{children:"this"})," kisebb mint ",(0,a.jsx)(t.code,{children:"o"})]}),"\n",(0,a.jsx)(t.li,{children:"0: Ha a k\xe9t objektum egyenl\u0151"}),"\n",(0,a.jsxs)(t.li,{children:["1: Ha ",(0,a.jsx)(t.code,{children:"this"})," nagyobb mint ",(0,a.jsx)(t.code,{children:"o"})]}),"\n"]}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.p,{children:["\xd6sszetettebb t\xedpusok eset\xe9n \xe9rdemes a met\xf3dust az el\u0151re defini\xe1lt ",(0,a.jsx)(t.code,{children:"compareTo"})," met\xf3dusokra (pl. ",(0,a.jsx)(t.code,{children:"Double::compareTo"}),")\nvisszavezetni."]})}),"\n",(0,a.jsxs)(t.p,{children:["K\xe9sz\xedts\xfcnk egy olyan ",(0,a.jsx)(t.code,{children:"Writable"})," oszt\xe1lyt, mely egy \xf3r\xe1t \xe9s egy h\u0151m\xe9rs\xe9klet t\xe1rol."]}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["Az oszt\xe1ly teljes k\xf3dja el\xe9rhet\u0151\n",(0,a.jsx)(t.a,{href:"https://github.com/Valentinusz/elte-ik-bsc/blob/main/5/bigdata/hadoop/maxTemp/src/temp/TemperatureWritable.java",children:"itt"}),"."]})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'public class TemperatureWritable implements WritableComparable<TemperatureWritable> {\n    public Text hour;\n    public DoubleWritable temperature;\n    \n    public TemperatureWritable() {\n        this.hour = new Text("");\n        this.temperature = new DoubleWritable(Double.MIN_VALUE);\n    }\n    \n    public TemperatureWritable(String hour, double temperature) {\n        this.hour = new Text(hour);\n        this.temperature = new DoubleWritable(temperature);\n    }\n    \n    public void readFields(DataInput in) throws IOException {\n        this.hour.readFields(in);\n        this.temperature.readFields(in);\n    }\n    \n    public void write(DataOutput out) throws IOException {\n        this.hour.write(out);\n        this.temperature.write(out);\n    }\n    \n    public int compareTo(TemperatureWritable o) {\n        return this.temperature.compareTo(o.temperature);\n    }\n}\n'})}),"\n",(0,a.jsx)(t.admonition,{type:"danger",children:(0,a.jsx)(t.p,{children:"A helyes m\u0171k\xf6d\xe9shez k\xf6telesek vagyunk megadni egy param\xe9ter n\xe9lk\xfcli konstruktort, mely valamilyen kezd\u0151\xe9rt\xe9ket ad a\nmez\u0151knek."})}),"\n",(0,a.jsx)(t.p,{children:"A implement\xe1lt m\u0171veleteket egyszer\u0171en az adattagok oszt\xe1lyaiban m\xe1r defini\xe1lt m\u0171veletekre vezetj\xfck vissza."}),"\n",(0,a.jsxs)(t.p,{children:["A f\xe1jlba t\xf6rt\xe9n\u0151 \xedr\xe1s form\xe1tum\xe1t a ",(0,a.jsx)(t.code,{children:"toString()"})," met\xf3dus fel\xfcldefini\xe1l\xe1s\xe1val tudjuk sz\xe9melyre szabni:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'@Override\npublic String toString() {\n    return this.hour + ": " + this.temperature + "C";\n}\n'})})]})}function u(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>l,a:()=>s});var a=n(7294);const i={},r=a.createContext(i);function s(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);